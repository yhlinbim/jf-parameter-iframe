JFCustomWidgetUtils.domReady(function(){class a{params;iframe=document.querySelector("#view");srcFields;constructor(){this.params=JFCustomWidget.getWidgetSettings(),this.srcFields=this.params.URL.match(/[^{\}]+(?=})/g),this.updateFrame(),this.srcFields.forEach(a=>{JFCustomWidget.listenFromField(a,"change",a=>{this.updateFrame()})})}updateFrame=()=>{let a=this.srcFields.map(a=>a.split("_")[1]);JFCustomWidget.getFieldsValueById(a,a=>{let b=a.data.map(a=>a.value),d=0,c=this.params.URL;b.forEach(a=>{c=c.replace(`{${this.srcFields[d]}}`,a),d++}),this.iframe.setAttribute("src",c)})}}JFCustomWidget.subscribe("ready",function(b){new a(b),JFCustomWidget.subscribe("submit",function(){JFCustomWidget.sendSubmit("Success.")})})})
